CFLAGS = -Wall -fpic -coverage -lm -std=c99

default: tests.out

tests.out: 
	
	echo "Results for running random tests:" > tests.out
	echo "randomtestcard1.c:" >> tests.out
	gcc -o randomtestcard1 -g randomtestcard1.c dominion.c rngs.o testStateChange.o $(CFLAGS)
	./randomtestcard1 >> tests.out
	gcov -b -f dominion.c >> tests.out
	
	echo "randomtestadventurer.c:" >> tests.out
	gcc -o randomtestadventurer -g randomtestadventurer.c dominion.c rngs.o testStateChange.o $(CFLAGS)
	./randomtestadventurer >> tests.out
	gcov -b -f dominion.c >> tests.out	
		
	echo "randomtestcard2.c:" >> tests.out
	gcc -o randomtestcard2 -g randomtestcard2.c dominion.c rngs.o testStateChange.o $(CFLAGS)
	./randomtestcard2 >> tests.out
	gcov -b -f dominion.c >> tests.out	

clean:
	rm tests.out

cleanall: 
	rm tests.out randomtestcard1 randomtestadventurer randomtestcard2 *.gcda *.gcno *gcov
